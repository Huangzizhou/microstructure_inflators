Introduction
  - Goal: print an object that matches a target deformation under a particular load.
    Extra challenge: do this on a single material printer.
    Examples: bird, bar (target-deformed object + force arrows)
    
  - Overview:
        1) Find material properties at each point.
          (Image: young's modulus field for bar)
        2) Find geometry that achieves these material properties.
          (Image: tiled pattern for bar)

Material Optimization
  - E_M(Y, nu) = int_domega ||u - u^*||^2 dA
    Y, nu : R^N -> R
  - Discretize material fields Y, nu: constant value per axis-aligned grid cell
  - What we've tried
        Gradient-based - bad convergence
        Local/global type iteration (constrained nonlinear least squares to
        fit stress)
  - Results
        Bar, bird iterates (image flipper)

Homogenization
  - How can we vary the material properties? Vary the microstructure geometry.
    (Image of object filled with two different patterns: circles, stars)
  - When printed with the same material, these objects have different
    homogenized, or "effective" material properties.
    (Image of object filled with two different solid colors)

  - Recall: material properties (elasticity tensor) tell us how strain maps to
    stress.
  - Intuitively: homogenized elasticity tensor tells us how the average strain
    in at a point maps to the average stress.
    (Image: constant strain defo, constant strain + fluctuation)
  - Can't spatially average the properties!

  - General idea: for all possible average strains of the cell, compute the
    average stress.
    (One constant strain disp + fluctuation strains)

  - Linearity saves us: we only need to consider 3 "basis strain tensors" in
    2D: 2 axis-aligned stretches and 1 shear.
  (Image: All 3 constant strain displacements, fluctuation strains)
  - Computation
        - Impose an average constant strain and compute how the geometry
          actually deforms
          (Image: squashed mictrostructure geometry, const+fluctuation
           strain-deformed geometry)
        - Average the stress tensor

 - Cell problem + homogenized tensor formula
 - There is a rigorous derivation/proof showing that the cell size shrinks to
   zero, the microstructure simulation converges to the homogenous simulation
   with E^H

Patterns
 - We choose to explore bar-based patterns because its wide range of
   applications in nature and architecture. (Show molecular models, bone
   structures, and truss-based buildings)
 - Show wire examples
 - We "inflate" the wire to convert it into a triangular mesh for printing and
   simulation. [cite George Hart]
 - To ensure periodicity, we perform extra geometry processing.
 - Each pattern can be parameterized by a few pattern parameters.  E.g.
   translate the vertex locations and thickening.  To preserve the orthotropic
   structure, we choose parameters that preserve the symmetry of the pattern.
 - Printibility

Optimizing Patterns
 - Goal: for each grid cell, find a pattern with Y, nu \approx Y^*, nu^* from
   material optimization.
 - I.e. "invert" the homogenization procedure
 - Could sample the 9+ Dimensional pattern parameter space and find closest
   tensor
 - But space is huge, N^P sample points (N # samples per param, P # params)
 - Ideally we can tune the elasticity tensor with an optimization:
    min_p ||C - C^*||^2
 - p controls *shape* of microstructure! How can we optimize this?
 - Use the "shape derivative"
 (Image of normal velocity perturbation of an object's boundary: v_n)
 delta J(v_n) = lim \eps -> 0 (J(omega) - J(omega perturbed by \epsilon * v_n)) / eps

 - Amazingly, the closed form of each entry of the homogenized elasticity tensor can be
   "shape differentiated"
 - Cell problems, gradient
 - If we know the normal velocity caused by each pattern parameter, chain
   rule:
   <formula>

 - Use in other objectives: chain rule
   min_p ||C^-1 - C^*^-1||^2
   min_p ||nu - nu^*||^2

 - Example iteration:

 
