# usage: gnuplot -e "run='LpHoleWCStress/d1_p10_a0.00001_r0.25';" lphole_plot_Js.gpi
set terminal pngcairo size 1024,1024
set output sprintf("%s.Js.png", run);

set multiplot layout 2, 1 title sprintf("%s Shape Velocity Validation", run) noenhanced
dataSource=sprintf("< ./data.py %s.txt", run);

set grid
set xlabel "parameter p value"

set title "J_S"
plot dataSource u 1:2 with lp notitle

set title "dJ_S/dp"
plot dataSource u 1:3 with lp title "Shape derivative", \
     dataSource u 1:4 with l  title "Centered difference", \
     dataSource u 1:5 with l  title "Forward difference"
